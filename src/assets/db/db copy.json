{
  "database": "agricola.db",
  "version": 1,
  "encrypted": false,
  "mode": "full",
  "tables": [
    {
      "name": "languages",
      "schema": [
        { "column": "name", "value": "TEXT NOT NULL PRIMARY KEY" }
      ]
    },
    {
      "name": "roles",
      "schema": [
        { "column": "id", "value": "INTEGER PRIMARY KEY AUTOINCREMENT" },
        { "column": "nombre", "value": "TEXT NOT NULL UNIQUE" }
      ]
    },
    {
      "name": "usuarios",
      "schema": [
        { "column": "id", "value": "INTEGER PRIMARY KEY AUTOINCREMENT" },
        { "column": "username", "value": "TEXT NOT NULL UNIQUE" },
        { "column": "password", "value": "TEXT NOT NULL" },
        { "column": "rol_id", "value": "INTEGER NOT NULL" }
      ],
      "indexes": [
        { "name": "idx_usuarios_rol", "value": "rol_id" }
      ]
    },
    {
      "name": "parcelas",
      "schema": [
        { "column": "id", "value": "INTEGER PRIMARY KEY AUTOINCREMENT" },
        { "column": "usuario_id", "value": "INTEGER NOT NULL" },
        { "column": "nombre", "value": "TEXT" },
        { "column": "alias", "value": "TEXT" },
        { "column": "ubicacion", "value": "TEXT" },
        { "column": "tamanio", "value": "NUMERIC"},
        { "column": "tipo_cultivo", "value":"TEXT"}
      ],
      "indexes": [
        { "name": "idx_parcelas_usuario", "value": "usuario_id" }
      ]
    },
    {
      "name": "tipos_tarea",
      "schema": [
        { "column": "id", "value": "INTEGER PRIMARY KEY AUTOINCREMENT" },
        { "column": "descripcion", "value": "TEXT" }
      ]
    },
    {
      "name": "tareas",
      "schema": [
        { "column": "id", "value": "INTEGER PRIMARY KEY AUTOINCREMENT" },
        { "column": "parcela_id", "value": "INTEGER NOT NULL" },
        { "column": "tipo_tarea_id", "value": "INTEGER NOT NULL" },
        { "column": "frecuencia", "value": "TEXT" },
        { "column": "fecha_inicio", "value": "DATE" },
        { "column": "fecha_fin", "value": "DATE" },
        { "column": "periodo_dias", "value": "INTEGER" },
        { "column": "costo_insumos", "value": "NUMERIC" },
        { "column": "costo_mano_obra", "value": "NUMERIC" },
        { "column": "costo_herramientas", "value": "NUMERIC" },
        
        { "column": "costo_total", "value": "NUMERIC" }
      ],
      "indexes": [
        { "name": "idx_tareas_parcela", "value": "parcela_id" }
      ]
    },
    {
      "name": "insumos",
      "schema": [
        { "column": "id", "value": "INTEGER PRIMARY KEY AUTOINCREMENT" },
        { "column": "nombre", "value": "TEXT" },
        { "column": "descripcion", "value": "TEXT" },
        { "column": "categoria", "value": "TEXT" },
        { "column": "costo_unitario", "value": "NUMERIC" },
        { "column": "unidad_medida", "value": "TEXT" },
        { "column": "foto", "value": "TEXT" }

      ]
    },
    {
      "name": "tarea_insumo",
      "schema": [
        { "column": "id", "value": "INTEGER PRIMARY KEY AUTOINCREMENT" },
        { "column": "tarea_id", "value": "INTEGER NOT NULL" },
        { "column": "insumo_id", "value": "INTEGER NOT NULL" },
        { "column": "cantidad", "value": "NUMERIC" },
        { "column": "costo_unitario", "value": "NUMERIC" },
        { "column": "costo_total", "value": "NUMERIC" }
      ],
      "indexes": [
        { "name": "idx_tarea_insumo_tarea", "value": "tarea_id" },
        { "name": "idx_tarea_insumo_insumo", "value": "insumo_id" }
      ]
    },
    {
      "name": "herramientas",
      "schema": [
        { "column": "id", "value": "INTEGER PRIMARY KEY AUTOINCREMENT" },
        { "column": "nombre", "value": "TEXT" },
        { "column": "descripcion", "value": "TEXT" },
        { "column": "categoria", "value": "TEXT" },
        { "column": "costo_unitario", "value": "NUMERIC" },
        { "column": "unidad_medida", "value": "TEXT" },
        { "column": "foto", "value": "TEXT" }

      ]
    },
    {
      "name": "tarea_herramienta",
      "schema": [
        { "column": "id", "value": "INTEGER PRIMARY KEY AUTOINCREMENT" },
        { "column": "tarea_id", "value": "INTEGER NOT NULL" },
        { "column": "herramienta_id", "value": "INTEGER NOT NULL" },
        { "column": "cantidad", "value": "NUMERIC" },
        { "column": "costo_unitario", "value": "NUMERIC" },
        { "column": "costo_total", "value": "NUMERIC" }
      ],
      "indexes": [
        { "name": "idx_tarea_herramienta_tarea", "value": "tarea_id" },
        { "name": "idx_tarea_herramienta_herramienta", "value": "herramienta_id" }
      ]
    },
    {
      "name": "obreros",
      "schema": [
        { "column": "id", "value": "INTEGER PRIMARY KEY AUTOINCREMENT" },
        { "column": "nombre", "value": "TEXT" },
        { "column": "apellido", "value": "TEXT" },
        { "column": "dni", "value": "TEXT NOT NULL UNIQUE" },
        { "column": "telefono", "value": "TEXT" },
        { "column": "direccion", "value": "TEXT" },
        { "column": "especialidad", "value": "TEXT" },
        { "column": "precio_base", "value": "NUMERIC" },
        { "column": "foto", "value": "TEXT" }
      ]
    },
    {
      "name": "tarea_obrero",
      "schema": [
        { "column": "id", "value": "INTEGER PRIMARY KEY AUTOINCREMENT" },
        { "column": "tarea_id", "value": "INTEGER NOT NULL" },
        { "column": "obrero_id", "value": "INTEGER NOT NULL" },
        { "column": "precio_unitario", "value": "NUMERIC" },
        { "column": "cantidad_jornadas", "value": "NUMERIC" },
        { "column": "costo_total", "value": "NUMERIC" }
      ],
      "indexes": [
        { "name": "idx_tarea_obrero_tarea", "value": "tarea_id" },
        { "name": "idx_tarea_obrero_obrero", "value": "obrero_id" }
      ]
    },
    {
      "name": "ventas",
      "schema": [
        { "column": "id", "value": "INTEGER PRIMARY KEY AUTOINCREMENT" },
        { "column": "parcela_id", "value": "INTEGER NOT NULL" },
        { "column": "fecha_venta", "value": "DATE" },
        { "column": "lugar_venta", "value": "TEXT" },
        { "column": "tipo_venta", "value": "TEXT" },
        { "column": "unidad_medida", "value": "TEXT" },
        { "column": "cantidad", "value": "NUMERIC" },
        { "column": "precio_unitario", "value": "NUMERIC" },
        { "column": "total", "value": "NUMERIC" },
        { "column": "comprador", "value": "TEXT" },
        { "column": "vendedor", "value": "TEXT" }
      ],
      "indexes": [
        { "name": "idx_ventas_parcela", "value": "parcela_id" }
      ]
    }
  ]
}
