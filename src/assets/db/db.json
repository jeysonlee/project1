{
  "database": "agricola.db",
  "version": 5,
  "encrypted": false,
  "mode": "full",
  "tables": [
    {
      "name": "languages",
      "schema": [
        { "column": "name", "value": "TEXT NOT NULL PRIMARY KEY" },
        { "column": "created_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "updated_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "deleted_at", "value": "TEXT" },
        { "column": "is_synced", "value": "INTEGER DEFAULT 0" },
        { "column": "synced_at", "value": "TEXT" }
      ]
    },
    {
      "name": "roles",
      "schema": [
        { "column": "id", "value": "TEXT PRIMARY KEY" },
        { "column": "nombre", "value": "TEXT NOT NULL UNIQUE" },
        { "column": "created_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "updated_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "deleted_at", "value": "TEXT" },
        { "column": "is_synced", "value": "INTEGER DEFAULT 0" },
        { "column": "synced_at", "value": "TEXT" }
      ]
    },
    {
      "name": "usuarios",
      "schema": [
        { "column": "id", "value": "TEXT PRIMARY KEY" },
        { "column": "username", "value": "TEXT NOT NULL UNIQUE" },
        { "column": "password", "value": "TEXT NOT NULL" },
        { "column": "nombre", "value": "TEXT" },
        { "column": "apellido", "value": "TEXT" },
        { "column": "email", "value": "TEXT UNIQUE" },
        { "column": "telefono", "value": "TEXT" },
        { "column": "rol_nombre", "value": "TEXT" },
        { "column": "rol_id", "value": "TEXT NOT NULL" },
        { "column": "created_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "updated_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "deleted_at", "value": "TEXT" },
        { "column": "is_synced", "value": "INTEGER DEFAULT 0" },
        { "column": "synced_at", "value": "TEXT" }
      ],
      "indexes": [
        { "name": "idx_usuarios_rol", "value": "rol_id" }
      ]
    },
    {
      "name": "parcelas",
      "schema": [
        { "column": "id", "value": "TEXT PRIMARY KEY" },
        { "column": "usuario_id", "value": "TEXT NOT NULL" },
        { "column": "usuario_nombre", "value": "TEXT" },
        { "column": "nombre", "value": "TEXT" },
        { "column": "alias", "value": "TEXT" },
        { "column": "ubicacion", "value": "TEXT" },
        { "column": "tamanio", "value": "NUMERIC" },
        { "column": "tipo_cultivo", "value": "TEXT" },
        { "column": "created_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "updated_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "deleted_at", "value": "TEXT" },
        { "column": "is_synced", "value": "INTEGER DEFAULT 0" },
        { "column": "synced_at", "value": "TEXT" }
      ],
      "indexes": [
        { "name": "idx_parcelas_usuario", "value": "usuario_id" }
      ]
    },
    {
      "name": "tipos_tarea",
      "schema": [
        { "column": "id", "value": "TEXT PRIMARY KEY" },
        { "column": "descripcion", "value": "TEXT" },
        { "column": "created_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "updated_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "deleted_at", "value": "TEXT" },
        { "column": "is_synced", "value": "INTEGER DEFAULT 0" },
        { "column": "synced_at", "value": "TEXT" }
      ]
    },
    {
      "name": "tareas",
      "schema": [
        { "column": "id", "value": "TEXT PRIMARY KEY" },
        { "column": "parcela_id", "value": "TEXT NOT NULL" },
        { "column": "tipo_tarea_id", "value": "TEXT" },
        { "column": "tipo_tarea_nombre", "value": "TEXT" },
        { "column": "frecuencia", "value": "TEXT" },
        { "column": "fecha_inicio", "value": "DATE" },
        { "column": "fecha_fin", "value": "DATE" },
        { "column": "periodo_dias", "value": "INTEGER" },
        { "column": "costo_insumos", "value": "NUMERIC" },
        { "column": "costo_mano_obra", "value": "NUMERIC" },
        { "column": "costo_herramientas", "value": "NUMERIC" },
        { "column": "costo_total", "value": "NUMERIC" },
        { "column": "created_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "updated_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "deleted_at", "value": "TEXT" },
        { "column": "is_synced", "value": "INTEGER DEFAULT 0" },
        { "column": "synced_at", "value": "TEXT" }
      ],
      "indexes": [
        { "name": "idx_tareas_parcela", "value": "parcela_id" }
      ]
    },
    {
      "name": "tarea_insumo",
      "schema": [
        { "column": "id", "value": "TEXT PRIMARY KEY" },
        { "column": "tarea_id", "value": "TEXT NOT NULL" },
        { "column": "insumo_id", "value": "TEXT NOT NULL" },
        { "column": "cantidad", "value": "NUMERIC" },
        { "column": "costo_unitario", "value": "NUMERIC" },
        { "column": "costo_total", "value": "NUMERIC" },
        { "column": "created_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "updated_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "deleted_at", "value": "TEXT" },
        { "column": "is_synced", "value": "INTEGER DEFAULT 0" },
        { "column": "synced_at", "value": "TEXT" }
      ]
    },
    {
      "name": "tarea_herramienta",
      "schema": [
        { "column": "id", "value": "TEXT PRIMARY KEY" },
        { "column": "tarea_id", "value": "TEXT NOT NULL" },
        { "column": "herramienta_id", "value": "TEXT NOT NULL" },
        { "column": "cantidad", "value": "NUMERIC" },
        { "column": "costo_unitario", "value": "NUMERIC" },
        { "column": "costo_total", "value": "NUMERIC" },
        { "column": "created_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "updated_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "deleted_at", "value": "TEXT" },
        { "column": "is_synced", "value": "INTEGER DEFAULT 0" },
        { "column": "synced_at", "value": "TEXT" }
      ]
    },
    {
      "name": "tarea_obrero",
      "schema": [
        { "column": "id", "value": "TEXT PRIMARY KEY" },
        { "column": "tarea_id", "value": "TEXT NOT NULL" },
        { "column": "obrero_id", "value": "TEXT NOT NULL" },
        { "column": "precio_dia", "value": "NUMERIC" },
        { "column": "dias_trabajo", "value": "NUMERIC" },
        { "column": "costo_total", "value": "NUMERIC" },
        { "column": "created_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "updated_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "deleted_at", "value": "TEXT" },
        { "column": "is_synced", "value": "INTEGER DEFAULT 0" },
        { "column": "synced_at", "value": "TEXT" }
      ]
    },
    {
      "name": "insumos",
      "schema": [
        { "column": "id", "value": "TEXT PRIMARY KEY" },
        { "column": "nombre", "value": "TEXT" },
        { "column": "descripcion", "value": "TEXT" },
        { "column": "categoria", "value": "TEXT" },
        { "column": "costo_unitario", "value": "NUMERIC" },
        { "column": "unidad_medida", "value": "TEXT" },
        { "column": "foto", "value": "TEXT" },
        { "column": "created_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "updated_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "deleted_at", "value": "TEXT" },
        { "column": "is_synced", "value": "INTEGER DEFAULT 0" },
        { "column": "synced_at", "value": "TEXT" }
      ]
    },
    {
      "name": "herramientas",
      "schema": [
        { "column": "id", "value": "TEXT PRIMARY KEY" },
        { "column": "nombre", "value": "TEXT" },
        { "column": "descripcion", "value": "TEXT" },
        { "column": "categoria", "value": "TEXT" },
        { "column": "costo_unitario", "value": "NUMERIC" },
        { "column": "unidad_medida", "value": "TEXT" },
        { "column": "foto", "value": "TEXT" },
        { "column": "created_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "updated_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "deleted_at", "value": "TEXT" },
        { "column": "is_synced", "value": "INTEGER DEFAULT 0" },
        { "column": "synced_at", "value": "TEXT" }
      ]
    },
    {
      "name": "obreros",
      "schema": [
        { "column": "id", "value": "TEXT PRIMARY KEY" },
        { "column": "nombre", "value": "TEXT" },
        { "column": "apellido", "value": "TEXT" },
        { "column": "dni", "value": "TEXT NOT NULL UNIQUE" },
        { "column": "telefono", "value": "TEXT" },
        { "column": "direccion", "value": "TEXT" },
        { "column": "especialidad", "value": "TEXT" },
        { "column": "precio_base", "value": "NUMERIC" },
        { "column": "foto", "value": "TEXT" },
        { "column": "created_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "updated_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "deleted_at", "value": "TEXT" },
        { "column": "is_synced", "value": "INTEGER DEFAULT 0" },
        { "column": "synced_at", "value": "TEXT" }
      ]
    },
    {
      "name": "ventas",
      "schema": [
        { "column": "id", "value": "TEXT PRIMARY KEY" },
        { "column": "usuario_id", "value": "TEXT NOT NULL" },
        { "column": "usuario_nombre", "value": "TEXT" },
        { "column": "fecha_venta", "value": "DATE" },
        { "column": "nr_venta", "value": "TEXT NOT NULL" },
        { "column": "estado_humedad", "value": "TEXT NOT NULL" },
        { "column": "kg_bruto", "value": "NUMERIC" },
        { "column": "kg_seco", "value": "NUMERIC" },
        { "column": "kg_seco_aproximados", "value": "NUMERIC" },
        { "column": "kg_bruto_aproximados", "value": "NUMERIC" },
        { "column": "cantidad_vendida_kg", "value": "NUMERIC" },
        { "column": "desc_humedad", "value": "NUMERIC" },
        { "column": "precio_kg", "value": "NUMERIC" },
        { "column": "total_venta", "value": "NUMERIC" },
        { "column": "lugar_venta", "value": "TEXT" },
        { "column": "comprador", "value": "TEXT" },
        { "column": "vendedor", "value": "TEXT" },
        { "column": "created_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "updated_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "deleted_at", "value": "TEXT" },
        { "column": "is_synced", "value": "INTEGER DEFAULT 0" },
        { "column": "synced_at", "value": "TEXT" }
      ]
    },
    {
      "name": "cosechas",
      "schema": [
        { "column": "id", "value": "TEXT PRIMARY KEY" },
        { "column": "parcela_id", "value": "TEXT NOT NULL" },
        { "column": "tarea_id", "value": "TEXT NOT NULL" },
        { "column": "fecha_cosecha", "value": "DATE" },
        { "column": "cant_baldes", "value": "NUMERIC" },
        { "column": "pctj_merma", "value": "NUMERIC" },
        { "column": "kg_bruto", "value": "NUMERIC" },
        { "column": "kg_seco", "value": "NUMERIC" },
        { "column": "kg_bruto_disponible", "value": "NUMERIC" },
        { "column": "kg_seco_disponible", "value": "NUMERIC" },
        { "column": "estado", "value": "TEXT" },
        { "column": "created_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "updated_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "deleted_at", "value": "TEXT" },
        { "column": "is_synced", "value": "INTEGER DEFAULT 0" },
        { "column": "synced_at", "value": "TEXT" }
      ],
      "indexes": [
        { "name": "idx_cosechas_parcela", "value": "parcela_id" }
      ]
    },
    {
      "name": "venta_cosecha_detalle",
      "schema": [
        { "column": "id", "value": "TEXT PRIMARY KEY" },
        { "column": "venta_id", "value": "TEXT NOT NULL" },
        { "column": "cosecha_id", "value": "TEXT NOT NULL" },
        { "column": "parcela_id", "value": "TEXT NOT NULL" },
        { "column": "kg_bruto", "value": "NUMERIC" },
        { "column": "kg_seco", "value": "NUMERIC" },
        { "column": "cantidad_vendida_kg", "value": "NUMERIC" },
        { "column": "porcentaje_total_venta", "value": "NUMERIC" },
        { "column": "subtotal", "value": "NUMERIC" },
        { "column": "created_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "updated_at", "value": "TEXT DEFAULT (datetime('now'))" },
        { "column": "deleted_at", "value": "TEXT" },
        { "column": "is_synced", "value": "INTEGER DEFAULT 0" },
        { "column": "synced_at", "value": "TEXT" }
      ],
      "indexes": [
        { "name": "idx_detalle_venta", "value": "venta_id" },
        { "name": "idx_detalle_cosecha", "value": "cosecha_id" },
        { "name": "idx_detalle_parcela", "value": "parcela_id" }
      ]
    }

  ]
}
